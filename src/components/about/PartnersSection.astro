---
const partners = [
  { name: "Publicis Groupe",       logo: "/images/logos/publicis-text-logo.png" },
  { name: "Epsilon",               logo: "/images/logos/epsilon-logo.png" },
  { name: "Omnicom Group",         logo: "/images/logos/Omnicom-logo.png" },
  { name: "Kompass International", logo: "/images/logos/kompass-logo.svg" },
  { name: "Groupon",               logo: "/images/logos/groupon-logo.png" },
  { name: "Deezer",                logo: "/images/logos/deezer-logo.png" },
  { name: "Conversant",            logo: "/images/logos/conversant-logo.png" },
  { name: "Companeo",              logo: "/images/logos/companeo-logo.png" },
  { name: "Elpev",                 logo: "/images/logos/elpev-logo.png" },
  { name: "Easy Voyage",           logo: "/images/logos/easyvoyage-logo.svg" },
  { name: "Apple Music",           logo: "/images/logos/apple-music-logo.png" },
  { name: "B & Q",                 logo: "/images/logos/b&q-logo.png" },
  { name: "Charles Tyrwhitt",      logo: "/images/logos/charles-logo.jpeg" },
  { name: "AXA",                   logo: "/images/logos/axa-logo.svg" },
  { name: "Elixis",                logo: "/images/logos/elixis-logo.png" },
  { name: "Nike",                  logo: "/images/logos/nike-logo.png" },
  { name: "Decathlon",             logo: "/images/logos/decathlon-logo.png" },
  { name: "Disney +",              logo: "/images/logos/disney-logo.svg" },
  { name: "Superdry",              logo: "/images/logos/superdry-logo.png" },
];
---

<!-- Scroll-reveal script -->
<script type="module">
  const logos = document.querySelectorAll(".scroll-reveal");
  const obs = new IntersectionObserver(
    (entries) => {
      entries.forEach(({ target, isIntersecting }) => {
        if (!isIntersecting) return;
        const delay = target.dataset.delay || 0;
        target.style.animationDelay = `${delay}ms`;
        target.classList.add("animate-fade-in-up");
        obs.unobserve(target);
      });
    },
    { threshold: 0.2 }
  );
  logos.forEach((el) => obs.observe(el));
</script>

<section
  aria-labelledby="partners-heading"
  class="relative py-12 md:py-16 bg-gradient-to-b from-white to-cyan-50 overflow-hidden"
>

  <div class="relative z-10 container mx-auto px-4">
    <div class="text-center mb-10">
      <h2
        id="partners-heading"
        class="scroll-reveal opacity-0 text-3xl md:text-4xl lg:text-5xl font-bold uppercase tracking-tight"
        data-delay="0"
      >
        <span class="bg-gradient-to-r from-blue-950 via-blue-800 to-cyan-600 text-transparent bg-clip-text">
          who we work with
        </span>
      </h2>
      <div class="w-20 h-1 bg-secondary mx-auto mt-3 mb-6 animate-scale-in"></div>
      <p
        class="scroll-reveal opacity-0 text-gray-700 text-base md:text-lg leading-relaxed max-w-4xl mx-auto"
        data-delay="140"
      >
      For more than 10 years we have integrated with some of the world's leading brands and agencies delivering a host of solutions meeting individual email marketing strategies, generated new audiences, grown income and widen reach through automation.
      </p>
    </div>

    <!-- Compact grid -->
    <ul
      role="list"
      class="grid grid-cols-2 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-4 md:gap-6 max-w-5xl mx-auto"
    >
      {partners.map((p, i) => (
        <li
          class="scroll-reveal flex items-center justify-center opacity-0"
          data-delay={200 + i * 80}
        >
          <div
            class="relative w-28 h-28 rounded-full bg-white/60 backdrop-blur-sm flex items-center justify-center transition-transform duration-300 hover:scale-105 hover:rotate-3"
            aria-label={p.name}
          >

            <img
              src={p.logo}
              alt={p.name}
              class="max-w-3/4 max-h-3/4 object-contain"
            />
          </div>
        </li>
      ))}
    </ul>
  </div>

  <style is:global>
    @keyframes fade-in-up {
      0%   { opacity: 0; transform: translateY(20px) scale(0.95); }
      100% { opacity: 1; transform: translateY(0)      scale(1); }
    }
    .animate-fade-in-up { animation: fade-in-up 0.6s ease-out forwards; }

    @keyframes scale-in { 0% { transform: scaleX(0.5); opacity: 0; } 100% { transform: scaleX(1); opacity: 1; } }
    .animate-scale-in { animation: scale-in 0.4s ease-out forwards; transform-origin: center; }
  </style>
</section>
