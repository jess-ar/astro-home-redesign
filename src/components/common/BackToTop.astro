---

---

<button
  id="back-to-top-button"
  class="fixed bottom-4 right-4 p-3 bg-primary text-white rounded-full shadow-lg transition-opacity duration-300 transform hover:scale-110 focus:outline-none opacity-0 pointer-events-none"
  aria-label="Back to Top"
>
  <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
    <path stroke-linecap="round" stroke-linejoin="round" d="M5 15l7-7 7 7" />
  </svg>
</button>

<script>
  function scrollToTop() {
    window.scrollTo({ top: 0, behavior: 'smooth' });
  }

  document.addEventListener('DOMContentLoaded', () => {
    const button = document.getElementById('back-to-top-button');
    if (!button) return;

    // Displays the button only after scrolling 100px
    const toggleVisibility = () => {
      if (window.pageYOffset > 100) {
        button.classList.remove('opacity-0', 'pointer-events-none');
        button.classList.add('opacity-100', 'pointer-events-auto');
      } else {
        button.classList.add('opacity-0', 'pointer-events-none');
        button.classList.remove('opacity-100', 'pointer-events-auto');
      }
    };

    window.addEventListener('scroll', toggleVisibility);
    toggleVisibility();

    button.addEventListener('click', scrollToTop);

    const footer = document.querySelector('footer');
    if (!footer) return;

    // Adjust the position so as not to overlap with the footer.
    const observer = new IntersectionObserver((entries) => {
      entries.forEach((entry) => {
        button.style.bottom = entry.isIntersecting
          ? `${entry.boundingClientRect.height + 16}px`
          : '1rem';
      });
    }, { threshold: 0 });

    observer.observe(footer);
  });
</script>
